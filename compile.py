import orchestrate
import transpose
import compose
import harmonize
from compose import *


score = """
\\score {{
<<
	{sections}
>>
  \\layout {{
  ragged-last = ##f
}}
  \\midi {{ }}
}}

"""

section = """
\\new Staff \\with{{
	 midiInstrument = "{insturment}"
}}{{
\\absolute {{
\\tempo 4 = 150
\override Staff.TimeSignature.break-visibility = ##(#f #t #t)
\\numericTimeSignature
\\clef {clef}
{part}
}}
}}
"""

ACTUALLY_DO_THINGS = True
numbParts = 5
clefs = ['"treble"','"treble"', '"alto"','"bass"',"treble"]
insturments=['Flute','Violin','French Horn','Contrabass','Vibraphone']
desiredLength = 125
# desired length doesn't work for 40


if not ACTUALLY_DO_THINGS:
	segments = [{'notes': [{'note': 0, 'dur': 1}], 'transpose': 0, 'option': -1}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 2}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 2}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 2}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 1}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 10}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 10}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 0}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 0}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 0}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 0}], 'transpose': 0, 'option': 10}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 0}], 'transpose': 0, 'option': 3}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 1}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 1}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 10}, {'notes': [{'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 3}, {'notes': [{'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 2}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 1}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 2}, {'note': 4, 'dur': 1}], 'transpose': 0, 'option': 7}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 2}, {'note': 4, 'dur': 1}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 2}], 'transpose': -3, 'option': 8}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}], 'transpose': -3, 'option': 5}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': -3, 'option': 4}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': -3, 'option': 5}, {'notes': [{'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': -3, 'option': 2}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': -3, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': -3, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': -3, 'option': 9}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': -3, 'option': 5}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': 1, 'option': 8}, {'notes': [{'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}], 'transpose': 1, 'option': 9}, {'notes': [{'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}], 'transpose': 1, 'option': 4}, {'notes': [{'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}], 'transpose': 1, 'option': 9}, {'notes': [{'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 2}], 'transpose': 1, 'option': 10}, {'notes': [{'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 2}], 'transpose': 3, 'option': 8}, {'notes': [{'note': 1, 'dur': 0}, {'note': 3, 'dur': 2}], 'transpose': 3, 'option': 3}, {'notes': [{'note': 1, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 4, 'dur': 1}], 'transpose': 3, 'option': 1}, {'notes': [{'note': 1, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 4, 'dur': 1}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 1}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 4, 'dur': 1}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 1}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 7}, {'notes': [{'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 1}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 1}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 1}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 10}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 1}, {'note': 5, 'dur': 1}, {'note': 4, 'dur': 1}], 'transpose': 3, 'option': 1}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 1}, {'note': 5, 'dur': 1}, {'note': 4, 'dur': 1}], 'transpose': 3, 'option': 2}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 0}, {'note': 5, 'dur': 1}, {'note': 4, 'dur': 1}], 'transpose': 3, 'option': 9}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 0}, {'note': 5, 'dur': 1}, {'note': 4, 'dur': 1}], 'transpose': 3, 'option': 2}, {'notes': [{'note': 3, 'dur': 1}, {'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 0}, {'note': 5, 'dur': 1}, {'note': 4, 'dur': 1}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 3, 'dur': 1}, {'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 0}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 4}, {'notes': [{'note': 3, 'dur': 1}, {'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 0}], 'transpose': 3, 'option': 5}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 0}], 'transpose': 3, 'option': 3}, {'notes': [{'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 0}], 'transpose': 3, 'option': 3}, {'notes': [{'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 2}, {'note': 4, 'dur': 0}], 'transpose': 3, 'option': 5}, {'notes': [{'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 0}, {'note': 4, 'dur': 0}], 'transpose': 3, 'option': 9}, {'notes': [{'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 0}, {'note': 4, 'dur': 0}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 1}, {'notes': [{'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 0}, {'note': 4, 'dur': 0}, {'note': 5, 'dur': 1}], 'transpose': 3, 'option': 7}, {'notes': [{'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 0}, {'note': 4, 'dur': 0}], 'transpose': 3, 'option': 5}, {'notes': [{'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 4}, {'notes': [{'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 2}, {'notes': [{'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 9}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 2}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 10}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 2}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 2}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 3}, {'notes': [{'note': 1, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 2}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 9}, {'notes': [{'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 2}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 9}, {'notes': [{'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 2}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 9}, {'notes': [{'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 0}, {'note': -2, 'dur': 0}], 'transpose': 3, 'option': 9}, {'notes': [{'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 0}], 'transpose': 3, 'option': 5}, {'notes': [{'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 0}], 'transpose': 3, 'option': 3}, {'notes': [{'note': 2, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 2}], 'transpose': 3, 'option': 10}, {'notes': [{'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 6, 'dur': 0}, {'note': -1, 'dur': 2}], 'transpose': 3, 'option': 3}, {'notes': [{'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 6, 'dur': 0}], 'transpose': 3, 'option': 4}, {'notes': [{'note': 0, 'dur': 0}, {'note': 6, 'dur': 0}], 'transpose': 3, 'option': 3}, {'notes': [{'note': 6, 'dur': 0}], 'transpose': 3, 'option': 5}, {'notes': [{'note': 1, 'dur': 1}, {'note': 6, 'dur': 0}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 6, 'dur': 0}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 6, 'dur': 0}], 'transpose': 3, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': 3, 'option': 5}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 0, 'dur': 1}], 'transpose': 0, 'option': 5}]
	segments = [{'notes': [{'note': 0, 'dur': 1}], 'transpose': 0, 'option': -1}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 1}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 1}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 2, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 2}, {'notes': [{'note': 2, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 2, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 1}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 2}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 1}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 0}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 0}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 2}, {'note': -1, 'dur': 0}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 10}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 0}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 0}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 6, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}], 'transpose': 0, 'option': 7}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}], 'transpose': 0, 'option': 3}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}], 'transpose': 0, 'option': 9}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}], 'transpose': -3, 'option': 8}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 8}, {'notes': [{'note': -1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 0}, {'notes': [{'note': -1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 2}, {'notes': [{'note': -1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 10}, {'notes': [{'note': -1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 1}, {'notes': [{'note': -1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 9}, {'notes': [{'note': -1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 2}, {'notes': [{'note': -1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 2}], 'transpose': -4, 'option': 10}, {'notes': [{'note': -1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 5}, {'notes': [{'note': -1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 10}, {'notes': [{'note': -1, 'dur': 0}, {'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 2}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 3}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 1}, {'notes': [{'note': 0, 'dur': 0}, {'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 9}, {'notes': [{'note': 1, 'dur': 0}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 5}, {'notes': [{'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 10}, {'notes': [{'note': 1, 'dur': 2}, {'note': 2, 'dur': 0}, {'note': 3, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 9}, {'notes': [{'note': 1, 'dur': 2}, {'note': -3, 'dur': 0}, {'note': 3, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 7}, {'notes': [{'note': 1, 'dur': 2}, {'note': -3, 'dur': 0}, {'note': 3, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 4}, {'notes': [{'note': 1, 'dur': 2}, {'note': -3, 'dur': 0}, {'note': 3, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 2}, {'notes': [{'note': -3, 'dur': 0}, {'note': 3, 'dur': 0}, {'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 3}, {'notes': [{'note': -3, 'dur': 0}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 10}, {'notes': [{'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 3}, {'notes': [{'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 3}, {'notes': [{'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 0}], 'transpose': -4, 'option': 2}, {'notes': [{'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 5}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 2}, {'notes': [{'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 0}, {'notes': [{'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': -4, 'option': 1}, {'notes': [{'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 1}, {'notes': [{'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 10}, {'notes': [{'note': 3, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 7}, {'notes': [{'note': -3, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 3}, {'notes': [{'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 9}, {'notes': [{'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 0}, {'notes': [{'note': -5, 'dur': 1}, {'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 0}, {'notes': [{'note': -5, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 2}, {'notes': [{'note': -5, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 2}, {'notes': [{'note': -5, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}], 'transpose': -4, 'option': 1}, {'notes': [{'note': -3, 'dur': 1}, {'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': 2, 'dur': 1}], 'transpose': -4, 'option': 3}, {'notes': [{'note': -3, 'dur': 1}, {'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 4}, {'notes': [{'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 5}, {'notes': [{'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': -4, 'option': 4}, {'notes': [{'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 0, 'dur': 1}], 'transpose': -4, 'option': 3}, {'notes': [{'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 5}, {'notes': [{'note': -4, 'dur': 1}, {'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 0}, {'notes': [{'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 3}, {'notes': [{'note': -3, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 2}, {'notes': [{'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 3}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 0}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 0}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 2}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 10}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 9}, {'notes': [{'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 0}, {'notes': [{'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 1}], 'transpose': -4, 'option': 1}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 1}], 'transpose': -4, 'option': 0}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': -2, 'dur': 1}], 'transpose': -4, 'option': 10}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 4}, {'notes': [{'note': 4, 'dur': 1}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 4}, {'notes': [{'note': 3, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 3}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}, {'note': 1, 'dur': 1}], 'transpose': -4, 'option': 5}, {'notes': [{'note': 2, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 4}, {'notes': [{'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}, {'note': -1, 'dur': 1}], 'transpose': -4, 'option': 2}, {'notes': [{'note': 2, 'dur': 1}, {'note': 3, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}], 'transpose': -4, 'option': 4}, {'notes': [{'note': 3, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 0}, {'note': 0, 'dur': 1}], 'transpose': -4, 'option': 3}, {'notes': [{'note': 3, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}], 'transpose': -4, 'option': 10}, {'notes': [{'note': 3, 'dur': 2}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 1}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}], 'transpose': -4, 'option': 10}, {'notes': [{'note': 3, 'dur': 2}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 1}], 'transpose': 0, 'option': 10}, {'notes': [{'note': 3, 'dur': 2}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 2}, {'note': 0, 'dur': 2}], 'transpose': 0, 'option': 10}, {'notes': [{'note': 3, 'dur': 2}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 2}, {'note': 2, 'dur': 2}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 3, 'dur': 2}, {'note': 1, 'dur': 2}, {'note': 3, 'dur': 2}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 3, 'dur': 2}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 1}, {'note': 3, 'dur': 2}], 'transpose': 0, 'option': 2}, {'notes': [{'note': 3, 'dur': 2}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 1}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 3, 'dur': 2}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 2}], 'transpose': 0, 'option': 10}, {'notes': [{'note': 1, 'dur': 2}, {'note': 2, 'dur': 2}], 'transpose': 0, 'option': 3}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 2}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 1, 'dur': 1}, {'note': 0, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 2}], 'transpose': 0, 'option': 0}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 2}, {'note': 2, 'dur': 2}], 'transpose': 0, 'option': 5}, {'notes': [{'note': 0, 'dur': 1}, {'note': 1, 'dur': 2}], 'transpose': 0, 'option': 4}, {'notes': [{'note': 0, 'dur': 1}], 'transpose': 0, 'option': 4}]
	assignments = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0]]
	assignments = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]
	harmonyTranspositions = [[None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 0, 0, 0, 0, 0, 0, None, None, None, 4, 4, 4, 4, 4, 4, None, 4, 4, 4, 4, 4, 4, 4, 4, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, None, None, None, None, None, None, None, None, None, None, None], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, None, None, None, 0, 0, 0, 0, 0, 0, None, None, None, 5, 5, 5, 5, 5, 5, 5, 5, 5, None, None, None, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, None, None, None, None, None, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, -4, None, None, None, None, None, None, None, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, None, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, -3, None, None, None, None, None, None, None, None, None, None, None, None, None, None], [None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, None, None, None, None, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, -8, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, -5, -5, -5, -5, -5, -5, None, None, None, -6, -6, -6, -6, -6, -6, -6, None, None, None, None, None, None, None, None, None, None], [None, None, None, None, None, None, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, None, None, None, None, None, None, None, None, None, None, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, None, None, None, None, None, None, None, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, None, None, None, None, None, None, None, None, None, None, None, None, None]]

else:
	built = False
	while not built:
		segments = compose.generateSegments(desiredLength)
		print segments
		assignments = orchestrate.getAssignments(numbParts,len(segments),1)
		print assignments
		harmonyTranspositions = harmonize.genHarmonies([[60,98],[55,93],[36,72],[24,60],[53,89]], segments,assignments,0)
		print harmonyTranspositions
		built = True
		#harmony Transposition sometimes fails if an assigned section is too large for an insturments range.
		# this should be rare, but here we are.
	
orchestrate.printParts(assignments)

#flute
#violin
#horn
#bass
#vibes

# orchestrate.printParts(harmonyTranspositions)

# res = transpose.getTranspositionIntervals(assignments,segments,[],scale)
# orchestrate.printParts(res)


outfd = open('out.ly','w')

allParts = []
for p in range(numbParts):
	allParts.append([])


PIANO = '\\p'
FORTE = '\\f'
CRESH = '\\<'
DECRE = '\\>'

for i in range(len(segments)):
	directionThisTime = downOrUp(1)
	for p in range(numbParts):
		segment = segments[i]
		noteVersion = []
		restVersion = []
		for noteIndex in range(len(segment['notes'])):
			note = segment['notes'][noteIndex]
			dynamic = ''
			if noteIndex == 0 and  assignments[p][i] == 1:
				if i == 0:
					dynamic = PIANO+CRESH
				if i == len(segments)-3:
					dynamic = DECRE
				if i > 3:
					if assignments[p][i-1] == 0:
						dynamic = PIANO+CRESH
					elif assignments[p][i-4] == 0 and assignments[p][i-3] == 1 and assignments[p][i-2] == 1:
						dynamic = FORTE
				if i == 3:
					dynamic = FORTE
				if i < len(segments)-4:
					if assignments[p][i+3] == 0 and assignments[p][i+2] == 1 and assignments[p][i+1] == 1:
						dynamic = DECRE
			if noteIndex == len(segment['notes'])-1 and assignments[p][i] == 1:
				if i == len(segments)-1:
					dynamic = PIANO
				elif i > 3:
					if assignments[p][i+1] == 0:
						dynamic = PIANO
			hTrans = harmonyTranspositions[p][i]
			if hTrans == None:
				hTrans = 0
			thingToPrint = noteToLilyNote(note,segment['transpose']+hTrans) + dynamic
			noteVersion.append(' '+thingToPrint)
			restVersion.append(' r'+durations[note['dur']])
		totalSum = 0
		for note in segment['notes']:
			totalSum += note['dur']+1
		rest = 0
		if totalSum%2 == 0:
			rest = 3+directionThisTime
		else:
			rest = 2+directionThisTime
		noteVersion.append('r'+durations[rest-1])
		restVersion.append('r'+durations[rest-1])
		totalSum = totalSum+rest
		if assignments[p][i] == 1:
			music =  ' '.join(noteVersion)
		else:
			music = ' R1*{dur}/4'.format(dur=int(totalSum/2))
		timeSig = '\\time {top}/4 \\mark \\markup{{ {markInfo} }}'.format(top=int(totalSum/2),markInfo = ' ')#segment['option'])
		allParts[p].append("\n"+timeSig+"\n"+music)

completeParts = []
for p in range(numbParts):
	completePart = section.format(clef=clefs[p],part="".join(allParts[p]),insturment=insturments[p] )
	completeParts.append(completePart)

completeScore = score.format(sections="\n".join(completeParts))
outfd.write(completeScore)

